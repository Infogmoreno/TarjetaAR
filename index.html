<!doctype html>
<html lang="en">
   
    <head>
        <title>WebXR Application</title>
        <link rel="icon" type="image/png" href="favicon.ico"/>
        <meta name="description" content="3D Application">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
	<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
	<script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
        <script type="text/javascript" src="js/webxr.js"></script>
        <script type="text/javascript" src="js/joystick.js"></script>
        <script type="text/javascript" src="js/camera-cube-env.js"></script>
        <script src="https://rawgit.com/gasolin/aframe-href-component/master/dist/aframe-href-component.min.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css">
	    
<script>
  
	
 AFRAME.registerComponent('vidhandler', {
        // ...
        init: function () {
            this.toggle = false;
            this.vid = document.querySelector("#video_0")
            this.vid.pause();
        },
        tick: function () {
            if (this.el.object3D.visible == true) {
                if (!this.toggle) {
                    this.toggle = true;
                    this.vid.play();
                }
            } else {
                this.toggle = false;
                this.vid.pause();
            }
        }
    });
</script>
    </head>
    <body onload="init();" style="margin: 0; overflow: hidden;">
        <a-scene  embedded arjs='sourceType: webcam; debugUIEnabled: false' vr-mode-ui="enabled: false;" loading-screen="enabled: false;" shadow="type: basic; autoUpdate: false;" renderer="antialias: true; colorManagement: false; physicallyCorrectLights: false; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;">
            <!-- Assets -->
            <a-assets>
				
	        <video id="video_0" loop="false" autoplay="true" src="./media/Video.mp4"></video>
		<video id="video_1" loop="false" autoplay="false" src="./media/PromoAR_v2.mp4"></video>    
                <img id="sky"                 src="./resources/sky.jpg">
                <img id="icon-play"           src="./resources/play.png">
                <img id="icon-pause"          src="./resources/pause.png">
                <img id="icon-play-skip-back" src="./resources/play-skip-back.png">
                <img id="icon-mute"           src="./resources/mute.png">
                <img id="icon-volume-low"     src="./resources/volume-low.png">
                <img id="icon-volume-high"    src="./resources/volume-high.png">
            </a-assets>
	<div class= "button" id="button>
				 <button>Promo_1</button>
				 <button>Promo_2</button>
	</div>
	   <a-camera>
            <a-marker vidhandler preset:"hiro" >  
                <a-entity 
			position="0 0.5 -2" 
			scale="3.5 3.5 1.5"
		        startEvents: "click"
		        cursor>
		
		<a-video 
			id="#v_0" 
			src="#video_0" 
			width="1.6" 
			height="1" 
			scale="1 1 0.1" 
			position="0 0 -1.2709442387404124e-09" 
			rotation="0 0.0 0" 
			visible="true" 
			shadow="cast: false" 
			>
		</a-video>
	       
	        <a-video 
			id="#v_0" 
			src="#video_1" 
			width="1.6" 
			height="1" 
			scale="1 1 0.1" 
			position="0 0 -1.2709442387404124e-09" 
			rotation="0 0.0 0" 
			visible="false" 
			shadow="cast: false" 
			>
		</a-video>		
		
		</a-entity>
	    </a-marker> 	 
	   </a-camera>
		
            <!-- Lights -->
            
		<a-entity 
			position="0.8034560680389404 0.8550673723220825 0.9184057116508484" 
			light="castShadow:false; color:#ffffff; distance:40.0; type:point; intensity:1.0; shadowBias: -0.001; shadowCameraFar: 501.02; shadowCameraBottom: 12; shadowCameraFov: 101.79; shadowCameraNear: 0; shadowCameraTop: -5; shadowCameraRight: 10; shadowCameraLeft: -10; shadowRadius: 2;">
		</a-entity>
		<a-entity 
			position="-1.3004016876220703 0.0629047155380249 0.3522731065750122" 
			light="castShadow:false; color:#d8dcff; distance:40.0; type:point; intensity:1.0; shadowBias: -0.001; shadowCameraFar: 501.02; shadowCameraBottom: 12; shadowCameraFov: 101.79; shadowCameraNear: 0; shadowCameraTop: -5; shadowCameraRight: 10; shadowCameraLeft: -10; shadowRadius: 2;">
		</a-entity>

            <!-- Sky -->
           
        </a-scene>
    </body>
</html>
